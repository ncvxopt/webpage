name: Deploy Site
 ​
 on:
   push:
     branches: [ master ]
 ​
 jobs:
   build:
     runs-on: ubuntu-latest
     steps:
       - name: Checkout
         uses: actions/checkout@v3
         with:
           persist-credentials: fasle # false 是用 personal token，true 是使用 GitHub token
           fetch-depth: 0
 ​
      # ... TODO Build your site
 ​
      # <work-dir> 静态资源所在的目录
      # <domain> 需要 github.io 绑定的域名
      # <username> git commit 用户名
      # <mail> git commit 邮箱
      # <message> git commit 的 message
      # <secrets_name> Secrets 名称
      # <github_username> github 的用户名（公开仓库）
      # <repo> 公开仓库名
       - name: Commit and Push
         working-directory: <work-dir>
         run: |
           echo "<domain>" > CNAME
           git init
           git checkout -b gh-pages
           git add -A
           git -c user.name='ncvxopt' -c user.email='ncvxopt@gmail.com' commit -m 'update' 
           git remote add origin https://github.com/ncvxopt/webpage.git
           git push origin gh-pages -f -q